"use strict";angular.module("fuelCalculator",["ngRoute"]).config(["$routeProvider",function(e){e.when("/distance",{templateUrl:"views/distance.html",controller:"DistanceCtrl",controllerAs:"vm"}).when("/fuel-volume",{templateUrl:"views/fuel-volume.html",controller:"FuelVolumeCtrl",controllerAs:"vm"}).when("/tank-volume",{templateUrl:"views/tank-volume.html",controller:"TankVolumeCtrl",controllerAs:"vm"}).when("/cost",{templateUrl:"views/cost.html",controller:"CostCtrl",controllerAs:"vm"}).otherwise({redirectTo:"/distance"})}]),angular.module("fuelCalculator").service("settingsService",["$window",function(e){this.fuelType=function(t){return t?void e.localStorage.setItem("fuelType",t):e.localStorage.getItem("fuelType")||"91"},this.consumption=function(t){return t?void e.localStorage.setItem("consumption",parseFloat(t)||10):parseFloat(e.localStorage.getItem("consumption"))||10}}]),angular.module("fuelCalculator").service("fuelService",function(){function e(){return f}function t(e,t,l){return Math.round(e/t*l)}function l(e,t){return"new"===e?"91"===t?.75:.9:"91"===t?.45:.6}function r(e,t){var r=l("new",e),c=t/r;return c}function c(e,t,l,c){var i=r(e,c),n=i*t/l;return Math.floor(n)}function i(e,t,r){return r*l(e,t)}function n(e,t,l,r,c){var n=r/l,a=n*c;return i(e,t,a)}var a="يوم",o="اسبوع",u="شهر",s="سنة",f=[[a,1],[o,7],[u,30],[s,360]];this.calculateByDistance=n,this.calculateByVolume=i,this.calculateDistanceByVolume=t,this.calculateDistanceByPrice=c,this.calculateLitersByPrice=r,this.getPeriodTable=e,this.getLiterPrice=l}),angular.module("fuelCalculator").controller("MainCtrl",["$location","settingsService",function(e,t){this.setFuelType=t.fuelType,this.isCurrentPath=function(t){return t===e.path()},this.isFuelType=function(e){return t.fuelType()===e}}]),angular.module("fuelCalculator").controller("FuelVolumeCtrl",["fuelService","settingsService",function(e,t){var l=this;this.periodTable=e.getPeriodTable(),this.calculatePrice=function(r){return e.calculateByVolume(r,t.fuelType(),l.volume)},this.calculatePriceDifference=function(){var e=l.calculatePrice("old"),t=l.calculatePrice("new");return t-e}}]),angular.module("fuelCalculator").controller("TankVolumeCtrl",["fuelService","settingsService",function(e,t){var l=this;this.distanceForLiters=t.consumption(),this.setConsumption=t.consumption,this.calculateDistance=function(){return e.calculateDistanceByVolume(l.distanceForLiters,l.litersForDistance,l.tankVolume)},this.calculatePrice=function(r){var c=l.calculateDistance(),i=t.fuelType();return e.calculateByDistance(r,i,l.distanceForLiters,l.litersForDistance,c)},this.calculatePriceDifference=function(){var e=l.calculatePrice("old"),t=l.calculatePrice("new");return t-e}}]),angular.module("fuelCalculator").controller("DistanceCtrl",["fuelService","settingsService",function(e,t){var l=this;this.distanceForLiters=t.consumption(),this.setConsumption=t.consumption,this.periodTable=e.getPeriodTable(),this.calculatePrice=function(r){var c=t.fuelType();return e.calculateByDistance(r,c,l.distanceForLiters,l.litersForDistance,l.distance)},this.calculatePriceDifference=function(){var e=l.calculatePrice("old"),t=l.calculatePrice("new");return t-e}}]),angular.module("fuelCalculator").controller("CostCtrl",["fuelService","settingsService",function(e,t){var l=this;this.distanceForLiters=t.consumption(),this.setConsumption=t.consumption,this.periodTable=e.getPeriodTable(),this.calculateDistance=function(){return e.calculateDistanceByPrice(t.fuelType(),l.distanceForLiters,l.litersForDistance,l.cost)},this.calculatePrice=function(r){var c=t.fuelType(),i=e.calculateDistanceByPrice(c,l.distanceForLiters,l.litersForDistance,l.cost);return e.calculateByDistance(r,c,l.distanceForLiters,l.litersForDistance,i)},this.calculatePriceDifference=function(){var e=l.calculatePrice("old"),t=l.calculatePrice("new");return t-e}}]);
"use strict";angular.module("fuelCalculator",["ngRoute"]).config(["$routeProvider",function(e){e.when("/distance",{templateUrl:"views/distance.html",controller:"DistanceCtrl",controllerAs:"vm"}).when("/fuel-volume",{templateUrl:"views/fuel-volume.html",controller:"FuelVolumeCtrl",controllerAs:"vm"}).when("/tank-volume",{templateUrl:"views/tank-volume.html",controller:"TankVolumeCtrl",controllerAs:"vm"}).when("/cost",{templateUrl:"views/cost.html",controller:"CostCtrl",controllerAs:"vm"}).otherwise({redirectTo:"/distance"})}]),angular.module("fuelCalculator").service("settingsService",["$window",function(e){this.fuelType=function(t){return t?void e.localStorage.setItem("fuelType",t):e.localStorage.getItem("fuelType")||"91"},this.consumption=function(t){return t?void e.localStorage.setItem("consumption",parseFloat(t)||8):parseFloat(e.localStorage.getItem("consumption"))||8},this.alertsRead=function(t){return t?void e.localStorage.setItem("alertsRead",!!t):!!e.localStorage.getItem("alertsRead")}}]),angular.module("fuelCalculator").service("fuelService",function(){function e(){return f}function t(e,t,r){return e/t*r}function r(e,t){return"new"===e?"91"===t?.75:.9:"91"===t?.45:.6}function l(e,t){var l=r("new",e),i=t/l;return i}function i(e,t,r,i){var n=l(e,i),c=n*t/r;return c}function n(e,t,l){return l*r(e,t)}function c(e,t,r,l,i){var c=l/r,a=c*i;return n(e,t,a)}var a="يوم",u="اسبوع",o="شهر",s="سنة",f=[[a,1],[u,7],[o,30],[s,360]];this.calculateByDistance=c,this.calculateByVolume=n,this.calculateDistanceByVolume=t,this.calculateDistanceByPrice=i,this.calculateLitersByPrice=l,this.getPeriodTable=e,this.getLiterPrice=r}),angular.module("fuelCalculator").service("periodService",[function(){var e="اليوم",t="الاسبوع",r="الشهر",l="السنة",i={day:1,week:7,month:30,year:360},n={day:e,week:t,month:r,year:l};this.getPeriodMenu=function(e){var t=e||"day";return{getVisualSelectedPeriod:function(){return n[t]},isPeriodSelected:function(e){return e===t},selectPeriod:function(e){t=e},getValuePerDay:function(e){return e/i[t]}}}}]),angular.module("fuelCalculator").controller("FuelVolumeCtrl",["fuelService","periodService","settingsService",function(e,t,r){var l=this;this.periodTable=e.getPeriodTable(),this.periodMenu=t.getPeriodMenu(),this.volume=1,this.calculatePrice=function(t){var i=l.periodMenu.getValuePerDay(l.volume);return e.calculateByVolume(t,r.fuelType(),i)},this.calculatePriceDifference=function(){var e=l.calculatePrice("old"),t=l.calculatePrice("new");return t-e}}]),angular.module("fuelCalculator").controller("TankVolumeCtrl",["fuelService","settingsService",function(e,t){var r=this;this.litersForDistance=1,this.tankVolume=64,this.distanceForLiters=t.consumption(),this.setConsumption=t.consumption,this.calculateDistance=function(){return e.calculateDistanceByVolume(r.distanceForLiters,r.litersForDistance,r.tankVolume)},this.calculatePrice=function(l){var i=r.calculateDistance(),n=t.fuelType();return e.calculateByDistance(l,n,r.distanceForLiters,r.litersForDistance,i)},this.calculatePriceDifference=function(){var e=r.calculatePrice("old"),t=r.calculatePrice("new");return t-e}}]),angular.module("fuelCalculator").controller("DistanceCtrl",["fuelService","periodService","settingsService",function(e,t,r){var l=this;this.litersForDistance=1,this.distance=15,this.distanceForLiters=r.consumption(),this.setConsumption=r.consumption,this.periodTable=e.getPeriodTable(),this.periodMenu=t.getPeriodMenu(),this.calculateDistance=function(e){var t=l.periodMenu.getValuePerDay(l.distance);return t*e},this.calculatePrice=function(t){var i=l.periodMenu.getValuePerDay(l.distance),n=r.fuelType();return e.calculateByDistance(t,n,l.distanceForLiters,l.litersForDistance,i)},this.calculatePriceDifference=function(){var e=l.calculatePrice("old"),t=l.calculatePrice("new");return t-e}}]),angular.module("fuelCalculator").controller("CostCtrl",["fuelService","periodService","settingsService",function(e,t,r){var l=this;this.litersForDistance=1,this.cost=1,this.distanceForLiters=r.consumption(),this.setConsumption=r.consumption,this.periodTable=e.getPeriodTable(),this.periodMenu=t.getPeriodMenu(),this.calculateDistance=function(){var t=l.periodMenu.getValuePerDay(l.cost);return e.calculateDistanceByPrice(r.fuelType(),l.distanceForLiters,l.litersForDistance,t)},this.calculatePrice=function(t){var i=l.periodMenu.getValuePerDay(l.cost),n=r.fuelType(),c=e.calculateDistanceByPrice(n,l.distanceForLiters,l.litersForDistance,i);return e.calculateByDistance(t,n,l.distanceForLiters,l.litersForDistance,c)},this.calculatePriceDifference=function(){var e=l.calculatePrice("old"),t=l.calculatePrice("new");return t-e}}]),angular.module("fuelCalculator").controller("NavbarCtrl",["settingsService",function(e){this.setFuelType=e.fuelType,this.isFuelType=function(t){return e.fuelType()===t}}]),angular.module("fuelCalculator").controller("TabsCtrl",["$location",function(e){this.isCurrentPath=function(t){return t===e.path()}}]),angular.module("fuelCalculator").controller("AlertsCtrl",["settingsService",function(e){this.alertsRead=function(){return e.alertsRead()},this.dismiss=function(){e.alertsRead(!0)}}]);